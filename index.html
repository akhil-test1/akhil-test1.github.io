<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="flowplayer.quality-selector.css" />
    <link rel="stylesheet" href="skin.css" />
    <script src="flowplayer.min.js"></script>
    <script src="flowplayer.vod-quality-selector.min.js"></script>
    <script src="flowplayertokens.js"></script>
    <script src="hls.min.js"></script>
    <style>
      #player {
        height: 500px;
      }
    </style>
  </head>
  <body>
    <h1>player</h1>

    <div id="player">#player</div>

    <script>
      async function init() {
        await TGN.fetchTokens();
        var player = flowplayer("#player", {
          embed: false,
          hlsQualities: true,
          seekable: true,
          clip: {
            sources: [
              {
                type: "application/x-mpegurl",
                src:
                  "https://s4.futureroom.in/9603d6f97ca93210ec27d497df0bb983/480p.m3u8?uid=123&token=" +
                  TGN.tokens.pop() 
              }
              // { type: "application/x-mpegurl", src: 'http://localhost:3000/db23d7ad42ffaf5eb1f7d7fcd1765340/db23d7ad42ffaf5eb1f7d7fcd1765340.m3u8' }
            ],
            qualities: ["240p", "360p", "480p", "720p", "1080p"],
            defaultQuality: "480p"
          }
        });
      }
      init();
    </script>
  </body>
</html>
